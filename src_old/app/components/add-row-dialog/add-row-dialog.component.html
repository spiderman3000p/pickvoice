<h2 mat-dialog-title>{{ dialogTitle }}</h2>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div mat-dialog-content>
        <div class="example-loading-shade" *ngIf="isLoadingResults">
            <mat-spinner *ngIf="isLoadingResults" class="spinner"></mat-spinner>
        </div>
        <span *ngFor="let key of keys">
            <mat-form-field class="col-sm-12 col-md-4 col-lg-3" [appearance]="dataMap[key].type === 'boolean' ? 'none' : ''">
                <mat-label>{{dataMap[key].name}} {{dataMap[key].required ? '*' : ''}}</mat-label>
                <!-- campos compuestos/objetos -->
                <mat-select *ngIf="dataMap[key].formControl.control === 'select'" [formControlName]="key">
                    <mat-option *ngFor="let data of getSelectInputData(key) | async" [value]="data">
                        {{ 
                            getSelectDisplayData(data, key)
                        }}
                    </mat-option>
                </mat-select>
                <!-- campos number -->
                <input class="w-100" matInput type="number" [formControlName]="key" *ngIf="dataMap[key].formControl.control === 'input' && dataMap[key].formControl.type === 'number'">
                <!-- campos date -->
                <input matInput [formControlName]="key" [matDatepicker]="pickerDate" *ngIf="dataMap[key].formControl.control === 'date'" readonly>
                <mat-datepicker-toggle matSuffix [for]="pickerDate" *ngIf="dataMap[key].formControl.control === 'date'"></mat-datepicker-toggle>
                <mat-datepicker #pickerDate ></mat-datepicker>
                <!-- campos string -->
                <input class="w-100" matInput type="text" [formControlName]="key"
                *ngIf="dataMap[key].formControl.control === 'input' && dataMap[key].formControl.type === 'text'">
                <!-- campos boolean -->
                <input matInput [formControlName]="key" hidden>
                <mat-slide-toggle  *ngIf="dataMap[key].formControl.control === 'toggle'" color="primary"
                (change)="form.get(key).setValue(!form.get(key).value)" [checked]="form.get(key).value">
                    {{dataMap[key].name}}
                </mat-slide-toggle>
            </mat-form-field>
        </span>
    </div>
    <div mat-dialog-actions align="end">
        <button mat-button type="submit" [disabled]="isLoadingResults">SAVE</button>
        <button mat-button mat-dialog-close [disabled]="isLoadingResults">CANCEL</button>
    </div>
</form>
